Index: main/core/src/main/java/hudson/model/RSS.java
===================================================================
RCS file: /cvs/hudson/hudson/main/core/src/main/java/hudson/model/RSS.java,v
retrieving revision 1.3
diff -u -r1.3 RSS.java
--- main/core/src/main/java/hudson/model/RSS.java	29 Dec 2006 19:15:04 -0000	1.3
+++ main/core/src/main/java/hudson/model/RSS.java	28 Oct 2007 10:30:18 -0000
@@ -57,6 +57,7 @@
         req.setAttribute("title",title);
         req.setAttribute("url",url);
         req.setAttribute("entries",entries);
+        req.setAttribute("rootURL", Hudson.getInstance().getRootUrl());
 
         String flavor = req.getParameter("flavor");
         if(flavor==null)    flavor="atom";
Index: main/core/src/main/resources/hudson/atom.jelly
===================================================================
RCS file: /cvs/hudson/hudson/main/core/src/main/resources/hudson/atom.jelly,v
retrieving revision 1.6
diff -u -r1.6 atom.jelly
--- main/core/src/main/resources/hudson/atom.jelly	17 Apr 2007 01:53:30 -0000	1.6
+++ main/core/src/main/resources/hudson/atom.jelly	28 Oct 2007 10:30:18 -0000
@@ -1,8 +1,6 @@
 <j:jelly xmlns:j="jelly:core" xmlns:st="jelly:stapler" xmlns:d="jelly:define" xmlns:l="/lib/layout" xmlns:t="/lib/hudson">
   <st:contentType value="application/atom+xml;charset=UTF-8" />
   <j:new var="h" className="hudson.Functions" /><!-- instead of JSP functions -->
-  <j:set var="rootURL"
-         value="${request.scheme}://${request.serverName}:${request.serverPort}${request.contextPath}" />
 
   <!-- ATOM. See http://atompub.org/rfc4287.html for the format -->
   <feed xmlns="http://www.w3.org/2005/Atom">
Index: main/core/src/main/resources/hudson/rss20.jelly
===================================================================
RCS file: /cvs/hudson/hudson/main/core/src/main/resources/hudson/rss20.jelly,v
retrieving revision 1.5
diff -u -r1.5 rss20.jelly
--- main/core/src/main/resources/hudson/rss20.jelly	17 Apr 2007 01:53:30 -0000	1.5
+++ main/core/src/main/resources/hudson/rss20.jelly	28 Oct 2007 10:30:18 -0000
@@ -1,8 +1,6 @@
 <j:jelly xmlns:j="jelly:core" xmlns:st="jelly:stapler" xmlns:d="jelly:define" xmlns:l="/lib/layout" xmlns:t="/lib/hudson">
   <st:contentType value="text/xml;charset=UTF-8" />
   <j:new var="h" className="hudson.Functions" /><!-- instead of JSP functions -->
-  <j:set var="rootURL"
-         value="${request.scheme}://${request.serverName}:${request.serverPort}${request.contextPath}" />
 
   <!-- RSS 2.0 feed. See http://cyber.law.harvard.edu/rss/rss.html for the format -->  
   <rss version="2.0">
