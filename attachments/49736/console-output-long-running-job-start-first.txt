Started by user Hull, Ryan
[EnvInject] - Loading node environment variables.
Building remotely on VUFTRT-002 (win10_gui) in workspace D:\Jenkins\workspace\Test Automation\Test Automation - GUI
[WS-CLEANUP] Deleting project workspace...
[WS-CLEANUP] Done
[EnvInject] - Executing scripts and injecting environment variables after the SCM step.
[EnvInject] - Evaluating the Groovy script content
Evaluated macro: '#605: [Repo: FirstViewCallCenterApplication User: jrhull]'
Setting build name to '#605: [Repo: FirstViewCallCenterApplication User: jrhull]'
[Test Automation - GUI] $ cmd /c call D:\jenkins\tmp\jenkins5819919882055766877.bat
###### PREPARE BUILD FOLDER ######
###### CLONE REPOSITORIES ######
Cloning into 'C:\build\ApplicationTesting-CommonGUI'...
Checking out files:  61% (68/111)   
Checking out files:  62% (69/111)   
Checking out files:  63% (70/111)   
Checking out files:  64% (72/111)   
Checking out files:  65% (73/111)   
Checking out files:  66% (74/111)   
Checking out files:  67% (75/111)   
Checking out files:  68% (76/111)   
Checking out files:  69% (77/111)   
Checking out files:  70% (78/111)   
Checking out files:  71% (79/111)   
Checking out files:  72% (80/111)   
Checking out files:  73% (82/111)   
Checking out files:  74% (83/111)   
Checking out files:  75% (84/111)   
Checking out files:  76% (85/111)   
Checking out files:  77% (86/111)   
Checking out files:  78% (87/111)   
Checking out files:  79% (88/111)   
Checking out files:  80% (89/111)   
Checking out files:  81% (90/111)   
Checking out files:  82% (92/111)   
Checking out files:  83% (93/111)   
Checking out files:  84% (94/111)   
Checking out files:  85% (95/111)   
Checking out files:  86% (96/111)   
Checking out files:  87% (97/111)   
Checking out files:  88% (98/111)   
Checking out files:  89% (99/111)   
Checking out files:  90% (100/111)   
Checking out files:  91% (102/111)   
Checking out files:  92% (103/111)   
Checking out files:  93% (104/111)   
Checking out files:  94% (105/111)   
Checking out files:  95% (106/111)   
Checking out files:  96% (107/111)   
Checking out files:  97% (108/111)   
Checking out files:  98% (109/111)   
Checking out files:  99% (110/111)   
Checking out files: 100% (111/111)   
Checking out files: 100% (111/111), done.
Cloning into 'C:\build\ApplicationTesting-FirstViewCallCenterApplication'...
Checking out files:  95% (87/91)   
Checking out files:  96% (88/91)   
Checking out files:  97% (89/91)   
Checking out files:  98% (90/91)   
Checking out files: 100% (91/91)   
Checking out files: 100% (91/91), done.
Cloning into 'C:\build\BDD-ServicesAndSolutions'...
###### START LFTRUNTIME ###### 
### ALM_UPLOAD_PATH is "Jenkins External Run Results\2019\Dec" ####
### ALM_Project is "FirstView" ####
Process leaked file descriptors. See https://jenkins.io/redirect/troubleshooting/process-leaked-file-descriptors for more information
[EnvInject] - Injecting environment variables from a build step.
[EnvInject] - Injecting as environment variables the properties content 
DB_ENV=TEST
ENV=TEST
BROWSER=Internet Explorer

[EnvInject] - Variables injected successfully.
[ApplicationTesting-FirstViewCallCenterApplication] $ cmd.exe /C "D:\Jenkins\apache-ant-1.10.1\bin\ant.bat -file build.xml -DALM_Project=FirstView -DRepository=FirstViewCallCenterApplication -DCommonGUI=master -DBDD=master -DBranch=master -DENV=TEST -DDatabase_Env=TEST '"-DBrowser=Internet Explorer"' -DScenarioTagsToRun=@smoke -DTagOrBranch=master -DBDD-ServicesAndSolutionsTagOrBranch=master -DCommonGUITagOrBranch=master '"-DJOB_NAME=Test Automation/Test Automation - GUI"' -DScenarioTagsToRun=@smoke junit && exit %%ERRORLEVEL%%"
Unable to locate tools.jar. Expected to find it in C:\Program Files (x86)\Java\jre8\lib\tools.jar
Buildfile: C:\build\ApplicationTesting-FirstViewCallCenterApplication\build.xml

compile:
    [mkdir] Created dir: c:\build\stage
     [copy] Copying 12 files to C:\build\stage
     [copy] Copying 76 files to C:\build\ApplicationTesting-FirstViewCallCenterApplication\lib
     [copy] Copying 10 files to c:\build\stage\properties
     [echo] Before Common compile
    [javac] C:\build\ApplicationTesting-FirstViewCallCenterApplication\build.xml:34: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds
    [javac] Compiling 45 source files to c:\build\stage
    [javac] C:\build\ApplicationTesting-FirstViewCallCenterApplication\build.xml:41: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds
    [javac] Compiling 54 source files to c:\build\stage
    [javac] Note: c:\build\ApplicationTesting-FirstViewCallCenterApplication\test\com\efirstbank\at\spa\stepdefinitions\beneficialowner\BeneficialOwnerStepDefinitions.java uses unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked for details.

checkstyle:
[checkstyle] Running Checkstyle 8.4 on 60 files

junit:
     [echo] Calling JUNIT
    [junit] Running unittesting.TestSuiteRunner
    [junit] 2019-12-11 08:50:08 DEBUG  [FirstViewUtil]: Util
    [junit] 2019-12-11 08:50:09 DEBUG  [CommonUtil]: project path: C:\\build\\ApplicationTesting-CommonGUI
    [junit] 2019-12-11 08:50:09 DEBUG  [CommonUtil]: Jenkins ENV: TEST
    [junit] 2019-12-11 08:50:09 DEBUG  [CommonUtil]: Jenkins DB ENV: TEST
    [junit] 2019-12-11 08:50:09 DEBUG  [CommonUtil]: Jenkins BROWSER: INTERNET EXPLORER
    [junit] 2019-12-11 08:50:09 DEBUG  going to scan these urls:
    [junit] file:/C:/Build/stage/
    

....
   TRIMMED TEST OUTPUT



.....
    [junit] 
    [junit] Failed scenarios:
    [junit] firstview/accounts/AccountClose.feature:5 # [@acctCloseTransferFunds] A callcenter level 2 rep successfully closes a checkign and transfer the funds to a savings
    [junit] 
    [junit] 8 Scenarios (1 failed, 7 passed)
    [junit] 46 Steps (1 failed, 2 skipped, 43 passed)
    [junit] 4m47.775s
    [junit] 
    [junit] java.lang.NullPointerException
    [junit] 	at com.hp.lft.sdk.internal.web.WebListBox$ListItemToStringTransformer.transform(WebListBox.java:210)
    [junit] 	at com.hp.lft.sdk.internal.web.WebListBox$ListItemToStringTransformer.transform(WebListBox.java:206)
    [junit] 	at com.hp.lft.sdk.internal.ContainerHelper.executeOnItemsCollection(ContainerHelper.java:138)
    [junit] 	at com.hp.lft.sdk.internal.web.WebListBox.executeOnItemsCollection(WebListBox.java:219)
    [junit] 	at com.hp.lft.sdk.internal.web.WebListBox$8.invoke(WebListBox.java:105)
    [junit] 	at com.hp.lft.sdk.internal.TestObjectOperationWrapper.executeWithEvents(TestObjectOperationWrapper.java:81)
    [junit] 	at com.hp.lft.sdk.internal.TestObjectOperationWrapper.executeWithEvents(TestObjectOperationWrapper.java:102)
    [junit] 	at com.hp.lft.sdk.internal.web.WebListBox.select(WebListBox.java:109)
    [junit] 	at com.efirstbank.at.firstview.models.accounts.AccountCloseScreenModel$ListBoxNodeBase.select(AccountCloseScreenModel.java:923)
    [junit] 	at com.efirstbank.at.firstview.stepdefinitions.accounts.AccountCloseStepDefinitions.theAccountFundsAreTransferedToAnotherAccount(AccountCloseStepDefinitions.java:55)
    [junit] 	at ?.the account funds are transfered to another account(firstview/accounts/AccountClose.feature:16)
    [junit] 
    [junit] Tests run: 92, Failures: 0, Errors: 2, Skipped: 2, Time elapsed: 291.839 sec
    [junit] Picked up JAVA_TOOL_OPTIONS: -agentlib:jvmhook
    [junit] Picked up _JAVA_OPTIONS: -Xrunjvmhook -Xbootclasspath/a:"C:\Program Files (x86)\HPE\Unified Functional Testing\bin\java_shared\classes\jasmine.jar"
    [junit] Test unittesting.TestSuiteRunner FAILED
     [echo] COPYING TEST FILES
     [copy] Copying 6 files to D:\Jenkins\workspace\Test Automation\Test Automation - GUI\JunitResults
     [copy] Copying 24 files to D:\Jenkins\workspace\Test Automation\Test Automation - GUI\JunitResults
     [copy] Copied 3 empty directories to 1 empty directory under D:\Jenkins\workspace\Test Automation\Test Automation - GUI\JunitResults

BUILD SUCCESSFUL
Total time: 5 minutes 11 seconds
Picked up JAVA_TOOL_OPTIONS: -agentlib:jvmhook
Picked up _JAVA_OPTIONS: -Xrunjvmhook -Xbootclasspath/a:"C:\Program Files (x86)\HPE\Unified Functional Testing\bin\java_shared\classes\jasmine.jar"
[htmlpublisher] Archiving HTML reports...
[htmlpublisher] Archiving at BUILD level D:\Jenkins\workspace\Test Automation\Test Automation - GUI\JunitResults to /opt/Jenkins/jobs/Test Automation/jobs/Test Automation - GUI/builds/605/htmlreports/Cucumber_20LeanFT_20Report
Recording test results
Build step 'Publish JUnit test result report' changed build result to UNSTABLE
[CucumberReport] Preparing Cucumber Reports
[CucumberReport] JSON report directory is "C:\build\ApplicationTesting-FirstViewCallCenterApplication\output\"
[CucumberReport] Copied 1 json files from workspace "C:\build\ApplicationTesting-FirstViewCallCenterApplication\output" to reports directory "/opt/Jenkins/jobs/Test Automation/jobs/Test Automation - GUI/builds/605/cucumber-html-reports/.cache"
[CucumberReport] Copied 0 properties files from workspace "C:\build\ApplicationTesting-FirstViewCallCenterApplication\output" to reports directory "/opt/Jenkins/jobs/Test Automation/jobs/Test Automation - GUI/builds/605/cucumber-html-reports/.cache"
[CucumberReport] Processing 1 json files:
[CucumberReport] /opt/Jenkins/jobs/Test Automation/jobs/Test Automation - GUI/builds/605/cucumber-html-reports/.cache/cucumberFirstView.json
[CucumberReport] Found 1 failed steps, while expected not more than 0
[CucumberReport] Build status is left unchanged
Archiving artifacts
INFO: 'Upload test result to ALM' Post Build Step is being invoked by jenkins_alm.
INFO: 1 test result file found.
INFO: Start to upload /opt/Jenkins/jobs/Test Automation/jobs/Test Automation - GUI/builds/605/archive/JunitResults/firstviewJunit.xml
INFO: Start to parse file: /opt/Jenkins/jobs/Test Automation/jobs/Test Automation - GUI/builds/605/archive/JunitResults/firstviewJunit.xml
INFO: parse resut file succeed.
INFO: Start to login to ALM Server.
Start login to ALM server...
User jenkins_alm unauthorized.
Got authenticate point:https://alm.fb:443/qcbin/authentication-point/authenticate
Authenticate point schema or port is different with server's. Please check with ALM site admin.
Try to authenticate through: https://alm.fb/qcbin/authentication-point/authenticate
Logged in successfully to ALM Server https://alm.fb/qcbin/ using jenkins_alm
Creating session...
Session created.
INFO: Checking test folder...
INFO: Checking testset folder...
INFO: Uploading ALM Entities...
INFO: Uploaded /opt/Jenkins/jobs/Test Automation/jobs/Test Automation - GUI/builds/605/archive/JunitResults/firstviewJunit.xml.
INFO: 'Upload test result to ALM' Completed.
Sending e-mails to: Ryan.Hull@efirstbank.com
Triggering a new build of Test Automation ? Archiver
Finished: UNSTABLE

