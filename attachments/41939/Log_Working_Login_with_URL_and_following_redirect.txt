Mar 23, 2018 12:37:46 PM FINE org.jenkinsci.plugins.saml.SamlCrumbExclusion
SamlCrumbExclusion.shouldExclude excluding '/securityRealm/finishLogin'

Mar 23, 2018 12:37:46 PM FINER org.jenkinsci.plugins.saml.SamlSecurityRealm
SamlSecurityRealm.doFinishLogin called

Mar 23, 2018 12:37:46 PM FINEST org.jenkinsci.plugins.saml.SamlSecurityRealm
SAMLResponse XML:<samlp:Response Version="2.0" ID="sW6X_W-CxpoYfhiqVb-oDrOemFe" IssueInstant="2018-03-23T12:37:44.179Z" xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol"><saml:Issuer xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion">idp:bbraun:saml2</saml:Issuer><samlp:Status><samlp:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success"/></samlp:Status><saml:Assertion ID="emgNppYrvG1ots8_rNTpKKfSncz" IssueInstant="2018-03-23T12:37:44.195Z" Version="2.0" xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion"><saml:Issuer>idp:bbraun:saml2</saml:Issuer><ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#"><ds:SignedInfo><ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/><ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"/><ds:Reference URI="#emgNppYrvG1ots8_rNTpKKfSncz"><ds:Transforms><ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/><ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/></ds:Transforms><ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/><ds:DigestValue>1EvMQLjLde6myUQGDcP6mLLCRpLzgILRZPRvrABEiAc=</ds:DigestValue></ds:Reference></ds:SignedInfo><ds:SignatureValue>azCx1urJOWMbKAzVrFnRylCiuglPiyqR1yAoJIGEhwKHquE9+FocvtUW3QihZSnF0cIBlFo8W6Cg1lsk3cW4i8q7HP2x+3CNmozCNXdpDSNa8/ReWoNb2ggDtcOK52ZPUpFCdYvY+bz+CQZZwuUvXe63+6zFW+ZB+/hee8ZFHw8cQoPuhIRvucPQD3nmmzzBMGleuh27xM9WEVrud8apZ3ZrfqVtM/AqTSbUvogjKvoUvXXEhg2yYkx8ztePQS5neALh+NlE4Lk4hduwDxGEtG+/1eOjJNTNg2iJ9+eTlw1n/y8Cc6aVKNnMnRHqRyjJRb2ipvTyA4YwFw2ytW2GKQ==</ds:SignatureValue></ds:Signature><saml:Subject><saml:NameID Format="urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified">iskeadde</saml:NameID><saml:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><saml:SubjectConfirmationData Recipient="http://172.27.128.239:8080/securityRealm/finishLogin" NotOnOrAfter="2018-03-23T12:42:44.195Z"/></saml:SubjectConfirmation></saml:Subject><saml:Conditions NotBefore="2018-03-23T12:32:44.195Z" NotOnOrAfter="2018-03-23T12:42:44.195Z"><saml:AudienceRestriction><saml:Audience>Jenkins.PRD:SAML2</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AuthnStatement SessionIndex="emgNppYrvG1ots8_rNTpKKfSncz" AuthnInstant="2018-03-23T12:37:44.195Z"><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion></samlp:Response>

Mar 23, 2018 12:37:46 PM FINEST org.jenkinsci.plugins.saml.OpenSAMLWrapper
adapt TCCL

Mar 23, 2018 12:37:46 PM FINE org.pac4j.core.util.CommonHelper$1 getFilename
filepath: file:/tmp/saml-jenkins-keystore-2336317102750277000.jks -> filename: null

Mar 23, 2018 12:37:46 PM INFO org.pac4j.saml.metadata.SAML2ServiceProviderMetadataResolver 
Using SP entity ID Jenkins.PRD:SAML2

Mar 23, 2018 12:37:46 PM INFO org.pac4j.saml.metadata.SAML2ServiceProviderMetadataResolver resolve
Writing sp metadata to /var/jenkins_home/saml-sp-metadata.xml

Mar 23, 2018 12:37:46 PM INFO org.pac4j.saml.metadata.SAML2ServiceProviderMetadataResolver resolve
Attempting to create directory structure for /var/jenkins_home

Mar 23, 2018 12:37:46 PM WARNING org.pac4j.saml.metadata.SAML2ServiceProviderMetadataResolver resolve
Could not construct the directory structure for SP metadata /var/jenkins_home/saml-sp-metadata.xml

Mar 23, 2018 12:37:46 PM FINE org.jenkinsci.plugins.saml.OpenSAMLWrapper
<?xml version="1.0" encoding="UTF-8"?>
<md:EntityDescriptor ID="_njgqosvqs2d5hb9poce95qmkjrkbmcxd2bpf6lr" entityID="Jenkins.PRD:SAML2" validUntil="2038-03-23T12:37:46.135Z" xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata"><md:Extensions xmlns:alg="urn:oasis:names:tc:SAML:metadata:algsupport"><alg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha512"/><alg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#sha384"/><alg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/><alg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#sha224"/><alg:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/><alg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"/><alg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"/><alg:DigestMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"/><alg:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/><alg:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#dsa-sha1"/></md:Extensions><md:SPSSODescriptor AuthnRequestsSigned="true" WantAssertionsSigned="true" protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol urn:oasis:names:tc:SAML:1.0:protocol urn:oasis:names:tc:SAML:1.1:protocol"><md:Extensions xmlns:init="urn:oasis:names:tc:SAML:profiles:SSO:request-init"><init:RequestInitiator Binding="urn:oasis:names:tc:SAML:profiles:SSO:request-init" Location="http://172.27.128.239:8080/securityRealm/finishLogin"/></md:Extensions><md:KeyDescriptor use="signing"><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#"><ds:X509Data><ds:X509Certificate>MIIC+TCCAeGgAwIBAgIUELx/qZM8XrzvNJm8Cu1q4D7mOOkwDQYJKoZIhvcNAQELBQAwFzEVMBMG
A1UEAwwMU0FNTC1qZW5raW5zMB4XDTE4MDMyMzA4NDMxMVoXDTE5MDMyMzA4NDMxMVowFzEVMBMG
A1UEAwwMU0FNTC1qZW5raW5zMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA09SEILnm
2k7vhsExcqJ62PyCgHVonRFTWI2dZAfY5ct26hGXET/Pknnjhq59aX5lxvN0JUpAArRSKKe8rYJX
WBMqnMRCf/g0qku+f7rSjfyOX1eZ6mjYBbmeJUBqRMQkT7XYAsWBaveYUpMkShDh5uos4ow0GtAm
blW97RX7H2ra+cbhn/sow+E3dbJOao2cYO03DKHWpIQsoIXl2pCYUno0x35VWX9K0FLSgSHSVs5v
NLOLfv8HpVuZwgv/wZLZpkt1BIWLyrgs09W5eDM0MIS4Ixsi0OwgdrzYZzqtp0XwkEmQMU/Te4Qh
jmmgBhLpo+I6lG29k04Gqs2a53KtDwIDAQABoz0wOzAdBgNVHQ4EFgQUaC+sIOlDCH827FeNiEoj
N1e4+BAwGgYDVR0RBBMwEYIPY249U0FNTC1qZW5raW5zMA0GCSqGSIb3DQEBCwUAA4IBAQCkx0Xs
J5UEFGR3eqe9hWJSNthGNBj371hsBrMME2S1kTTjr9P6p+1XOGE0HyxtoDZxfbjw4Wa+NQC2r4SH
NDmIZW426t7bJTPI8YUCKqj3d2zV3q+ecyRnZhKOAr413kVD0vYjgqaFxdL91DH7Z7dAP7Z01brN
ig1tjf90qLPFjVvVY/SxkoP1sjCqm9N3XeSIIKxUbXPmltyh/VX5SL7jCRIDIKUKcPBOgkFc0xaB
8AIujwP1x8z4yq3KT/zf9rpT4RZxnNUlEXjwt/i/R4nJm+Q11ONYQ+ocnTaucUeWcK2Du4DQAH00
HbqhDdnLp9FhKZm89lgPX3nMaNlt0RQW</ds:X509Certificate></ds:X509Data></ds:KeyInfo></md:KeyDescriptor><md:KeyDescriptor use="encryption"><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#"><ds:X509Data><ds:X509Certificate>MIIC+TCCAeGgAwIBAgIUELx/qZM8XrzvNJm8Cu1q4D7mOOkwDQYJKoZIhvcNAQELBQAwFzEVMBMG
A1UEAwwMU0FNTC1qZW5raW5zMB4XDTE4MDMyMzA4NDMxMVoXDTE5MDMyMzA4NDMxMVowFzEVMBMG
A1UEAwwMU0FNTC1qZW5raW5zMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA09SEILnm
2k7vhsExcqJ62PyCgHVonRFTWI2dZAfY5ct26hGXET/Pknnjhq59aX5lxvN0JUpAArRSKKe8rYJX
WBMqnMRCf/g0qku+f7rSjfyOX1eZ6mjYBbmeJUBqRMQkT7XYAsWBaveYUpMkShDh5uos4ow0GtAm
blW97RX7H2ra+cbhn/sow+E3dbJOao2cYO03DKHWpIQsoIXl2pCYUno0x35VWX9K0FLSgSHSVs5v
NLOLfv8HpVuZwgv/wZLZpkt1BIWLyrgs09W5eDM0MIS4Ixsi0OwgdrzYZzqtp0XwkEmQMU/Te4Qh
jmmgBhLpo+I6lG29k04Gqs2a53KtDwIDAQABoz0wOzAdBgNVHQ4EFgQUaC+sIOlDCH827FeNiEoj
N1e4+BAwGgYDVR0RBBMwEYIPY249U0FNTC1qZW5raW5zMA0GCSqGSIb3DQEBCwUAA4IBAQCkx0Xs
J5UEFGR3eqe9hWJSNthGNBj371hsBrMME2S1kTTjr9P6p+1XOGE0HyxtoDZxfbjw4Wa+NQC2r4SH
NDmIZW426t7bJTPI8YUCKqj3d2zV3q+ecyRnZhKOAr413kVD0vYjgqaFxdL91DH7Z7dAP7Z01brN
ig1tjf90qLPFjVvVY/SxkoP1sjCqm9N3XeSIIKxUbXPmltyh/VX5SL7jCRIDIKUKcPBOgkFc0xaB
8AIujwP1x8z4yq3KT/zf9rpT4RZxnNUlEXjwt/i/R4nJm+Q11ONYQ+ocnTaucUeWcK2Du4DQAH00
HbqhDdnLp9FhKZm89lgPX3nMaNlt0RQW</ds:X509Certificate></ds:X509Data></ds:KeyInfo></md:KeyDescriptor><md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</md:NameIDFormat><md:NameIDFormat>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</md:NameIDFormat><md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</md:NameIDFormat><md:NameIDFormat>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</md:NameIDFormat><md:AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="http://172.27.128.239:8080/securityRealm/finishLogin" index="0"/></md:SPSSODescriptor></md:EntityDescriptor>

Mar 23, 2018 12:37:46 PM FINE org.pac4j.saml.context.SAML2ContextProvider addTransportContext
Creating message storage by org.pac4j.saml.storage.EmptyStorageFactory

Mar 23, 2018 12:37:46 PM FINE org.pac4j.saml.transport.Pac4jHTTPPostDecoder doInitialize
Initialized Pac4jHTTPPostDecoder

Mar 23, 2018 12:37:46 PM FINE org.pac4j.saml.transport.Pac4jHTTPPostDecoder doDecode
Decoded SAML relay state of: null

Mar 23, 2018 12:37:46 PM FINE org.pac4j.saml.transport.Pac4jHTTPPostDecoder getBase64DecodedMessage
Getting Base64 encoded message from context, ignoring the given request

Mar 23, 2018 12:37:46 PM FINE org.pac4j.saml.transport.Pac4jHTTPPostDecoder doDecode
Decoded SAML message

Mar 23, 2018 12:37:46 PM FINE org.pac4j.core.client.BaseClient getUserProfile
credentials : SAMLCredential [nameId=org.opensaml.saml.saml2.core.impl.NameIDImpl@6ca5642e, attributes=[], sessionIndex=emgNppYrvG1ots8_rNTpKKfSncz]

Mar 23, 2018 12:37:46 PM FINE org.pac4j.core.profile.UserProfile setId
identifier: iskeadde

Mar 23, 2018 12:37:46 PM FINE org.pac4j.core.profile.UserProfile addAttribute
no conversion => key: sessionindex / value: emgNppYrvG1ots8_rNTpKKfSncz / class java.lang.String

Mar 23, 2018 12:37:46 PM FINE org.pac4j.core.profile.UserProfile addAttribute
no conversion => key: notBefore / value: 2018-03-23T12:32:44.195Z / class org.joda.time.DateTime

Mar 23, 2018 12:37:46 PM FINE org.pac4j.core.profile.UserProfile addAttribute
no conversion => key: notOnOrAfter / value: 2018-03-23T12:42:44.195Z / class org.joda.time.DateTime

Mar 23, 2018 12:37:46 PM FINER org.jenkinsci.plugins.saml.SamlProfileWrapper
#SAML2Profile# | id: iskeadde | attributes: {notOnOrAfter=2018-03-23T12:42:44.195Z, sessionindex=emgNppYrvG1ots8_rNTpKKfSncz, notBefore=2018-03-23T12:32:44.195Z} | roles: [] | permissions: [] | isRemembered: false |

Mar 23, 2018 12:37:46 PM FINEST org.jenkinsci.plugins.saml.OpenSAMLWrapper
reset TCCL

Mar 23, 2018 12:37:46 PM WARNING org.jenkinsci.plugins.saml.SamlSecurityRealm modifyUserEmail
There is not Email attribute 'null' for user : iskeadde