--- jenkins.orig	2019-04-15 12:23:14.000000000 +0100
+++ jenkins	2019-04-15 22:06:13.576454714 +0100
@@ -24,9 +24,10 @@
 #DAEMON=$JENKINS_SH
 DAEMON=/usr/bin/daemon
 DAEMON_ARGS="--name=$NAME --inherit --env=JENKINS_HOME=$JENKINS_HOME --output=$JENKINS_LOG --pidfile=$PIDFILE"
-JAVA=`type -p java`
+JAVA="`which java`"
 
-JAVA_ALLOWED_VERSION="18"
+JAVA_ALLOWED_VERSION1="18"
+JAVA_ALLOWED_VERSION2="110"
 
 if [ -n "$UMASK" ]; then
     DAEMON_ARGS="$DAEMON_ARGS --umask=$UMASK"
@@ -57,9 +58,11 @@
 fi
 
 # Work out the JAVA version we are working with:
-JAVA_VERSION=$($JAVA -version 2>&1 | sed -n ';s/.* version "\(.*\)\.\(.*\)\..*"/\1\2/p;')
+JAVA_VERSION=$($JAVA -version 2>&1 | sed -n ';s/.* version "\([0-9][0-9]*\)\.\([0-9][0-9]*\)\..*$/\1\2/p;')
 
-if [ "$JAVA_VERSION" = "$JAVA_ALLOWED_VERSION" ]; then
+# echo "Java version: ->${JAVA_MAJOR_VERSION}<-   ->${JAVA_MINOR_VERSION}<-"
+
+if [ "$JAVA_VERSION" = "$JAVA_ALLOWED_VERSION1" ] || [ "$JAVA_VERSION" = "$JAVA_ALLOWED_VERSION2" ]; then
     echo "Correct java version found" >&2
 else
     echo "Found an incorrect Java version" >&2
