
BUILD SUCCESSFUL
Total time: 3 minutes 13 seconds
[ant] $ mvn -f pom.xml -e -B sonar:sonar -Dsonar.host.url=http://localhost/sonar
+ Error stacktraces are turned on.
[INFO] Scanning for projects...
[INFO] Searching repository for plugin with prefix: 'sonar'.
[INFO] ------------------------------------------------------------------------
[INFO] Building Team Build
[INFO]    task-segment: [sonar:sonar] (aggregator-style)
[INFO] ------------------------------------------------------------------------
[INFO] [sonar:sonar {execution: default-cli}]
[INFO] Sonar host: http://localhost/sonar
[INFO] Sonar version: 2.2
Downloading: http://localhost/sonar/deploy/maven/org/codehaus/sonar/runtime/sonar-core-maven-plugin/20100814165137/sonar-core-maven-plugin-20100814165137.pom
515b downloaded  (sonar-core-maven-plugin-20100814165137.pom)
Downloading: http://localhost/sonar/deploy/maven/org/codehaus/sonar/runtime/sonar-core-maven-plugin/20100814165137/sonar-core-maven-plugin-20100814165137.jar
6K downloaded  (sonar-core-maven-plugin-20100814165137.jar)
[INFO] [sonar-core:internal {execution: default-internal}]
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Can not execute Sonar

Embedded error: PicoLifecycleException: method 'public void org.sonar.api.database.AbstractDatabaseConnector.start()', instance 'org.sonar.api.database.DriverDatabaseConnector@82254d, java.lang.RuntimeException: wrapper
org.apache.derby.jdbc.ClientDriver
[INFO] ------------------------------------------------------------------------
[INFO] Trace
org.apache.maven.lifecycle.LifecycleExecutionException: Can not execute Sonar
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:719)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandaloneGoal(DefaultLifecycleExecutor.java:569)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:539)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:387)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:284)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:180)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:328)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:138)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:362)
	at org.apache.maven.cli.compat.CompatibleMain.main(CompatibleMain.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
	at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
	at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
	at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
Caused by: org.apache.maven.plugin.MojoExecutionException: Can not execute Sonar
	at org.codehaus.mojo.sonar.Bootstraper.executeMojo(Bootstraper.java:87)
	at org.codehaus.mojo.sonar.Bootstraper.start(Bootstraper.java:65)
	at org.codehaus.mojo.sonar.SonarMojo.execute(SonarMojo.java:117)
	at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:490)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:694)
	... 17 more
Caused by: org.picocontainer.PicoLifecycleException: PicoLifecycleException: method 'public void org.sonar.api.database.AbstractDatabaseConnector.start()', instance 'org.sonar.api.database.DriverDatabaseConnector@82254d, java.lang.RuntimeException: wrapper
	at org.picocontainer.monitors.NullComponentMonitor.lifecycleInvocationFailed(NullComponentMonitor.java:77)
	at org.picocontainer.lifecycle.ReflectionLifecycleStrategy.monitorAndThrowReflectionLifecycleException(ReflectionLifecycleStrategy.java:132)
	at org.picocontainer.lifecycle.ReflectionLifecycleStrategy.invokeMethod(ReflectionLifecycleStrategy.java:115)
	at org.picocontainer.lifecycle.ReflectionLifecycleStrategy.start(ReflectionLifecycleStrategy.java:89)
	at org.picocontainer.adapters.InstanceAdapter.start(InstanceAdapter.java:108)
	at org.picocontainer.behaviors.AbstractBehavior.start(AbstractBehavior.java:169)
	at org.picocontainer.behaviors.Stored$RealComponentLifecycle.start(Stored.java:132)
	at org.picocontainer.behaviors.Stored.start(Stored.java:110)
	at org.picocontainer.DefaultPicoContainer.potentiallyStartAdapter(DefaultPicoContainer.java:996)
	at org.picocontainer.DefaultPicoContainer.startAdapters(DefaultPicoContainer.java:989)
	at org.picocontainer.DefaultPicoContainer.start(DefaultPicoContainer.java:746)
	at org.sonar.batch.Batch.execute(Batch.java:56)
	at org.sonar.maven2.BatchMojo.executeBatch(BatchMojo.java:142)
	at org.sonar.maven2.BatchMojo.execute(BatchMojo.java:133)
	at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:490)
	at org.codehaus.mojo.sonar.Bootstraper.executeMojo(Bootstraper.java:82)
	... 21 more
Caused by: java.lang.RuntimeException: wrapper
	at org.picocontainer.lifecycle.ReflectionLifecycleStrategy.monitorAndThrowReflectionLifecycleException(ReflectionLifecycleStrategy.java:130)
	... 35 more
Caused by: org.sonar.api.database.DatabaseException: Cannot open connection to database: SQL driver not found org.apache.derby.jdbc.ClientDriver
	at org.sonar.api.database.AbstractDatabaseConnector.testConnection(AbstractDatabaseConnector.java:182)
	at org.sonar.api.database.AbstractDatabaseConnector.start(AbstractDatabaseConnector.java:94)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.picocontainer.lifecycle.ReflectionLifecycleStrategy.invokeMethod(ReflectionLifecycleStrategy.java:110)
	... 34 more
Caused by: java.sql.SQLException: SQL driver not found org.apache.derby.jdbc.ClientDriver
	at org.sonar.api.database.DriverDatabaseConnector.getConnection(DriverDatabaseConnector.java:87)
	at org.sonar.api.database.AbstractDatabaseConnector.testConnection(AbstractDatabaseConnector.java:178)
	... 40 more
Caused by: java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver
	at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
	at java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:627)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:248)
	at org.sonar.api.database.DriverDatabaseConnector.getConnection(DriverDatabaseConnector.java:83)
	... 41 more
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 6 seconds
[INFO] Finished at: Sat Aug 14 17:04:27 CEST 2010
[INFO] Final Memory: 11M/27M
[INFO] ------------------------------------------------------------------------
Finished: FAILURE
